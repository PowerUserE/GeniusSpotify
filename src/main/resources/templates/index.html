<!DOCTYPE html>
<html
        lang="en"
        xmlns:th="http://www.thymeleaf.org"
        xmlns="http://www.w3.org/1999/html"
>
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

<!--   ===== Link Swiper's CSS =====-->
  <link
          rel="stylesheet"
          href="https://unpkg.com/swiper/swiper-bundle.min.css"
  />

<!--   ===== Fontawesome CDN Link =====-->
  <link
          rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
  />

  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
  <title>Artist Details</title>
  <meta
          name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />
  <title>Spotify X Genius</title>
  <link href="/static/style.css" rel="stylesheet" />
  <script src="/static/script.js" defer></script>
</head>
<body>
<div class="navbarDiv">
  <nav class="navbar navbar-light bg-light static-top">
    <div class="container">
      <a href="#!">SpotifyGenius</a>
      <a class="btn btn-primary" href="#signup">Sign In</a>
    </div>
  </nav>
</div>

<!-- Masthead-->
<!--<header class="masthead">-->

<div class="searchAndResults">
  <div class="searchTitle"> Search An Artist</div>
  <div class="searchDiv">
    <form
            class="form"
            id="searchForm"
            action="/searchArtistQuery"
            method="get"
            onsubmit="submitForm()"
    >
      <label for="search">
        <input
                required=""
                autocomplete="off"
                placeholder="Search Artist"
                name="query"
                id="search"
                type="text"
        />
        <div class="icon">
          <svg
                  stroke-width="2"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  class="swap-on"
          >
            <path
                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                    stroke-linejoin="round"
                    stroke-linecap="round"
            ></path>
          </svg>
          <svg
                  stroke-width="2"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  class="swap-off"
          >
            <path
                    d="M10 19l-7-7m0 0l7-7m-7 7h18"
                    stroke-linejoin="round"
                    stroke-linecap="round"
            ></path>
          </svg>
        </div>
        <button type="reset" class="close-btn">
          <svg
                  viewBox="0 0 20 20"
                  class="h-5 w-5"
                  xmlns="http://www.w3.org/2000/svg"
          >
            <path
                    clip-rule="evenodd"
                    d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                    fill-rule="evenodd"
            ></path>
          </svg>
        </button>
      </label>
    </form>
  </div>


  <div class="artistCardDiv">
    <section class="artistCard">
      <div class="swiper mySwiper swiper-container-artistCard">
      <div class="swiper-wrapper content">
          <div class="swiper-slide card" th:each="profile : ${artist}">
            <div class="card-content">
              <div class="image">
                <form th:action="@{/searchArtistQuery}" method="get">
                  <input
                          type="hidden"
                          name="query"
                          th:value="${param.query}"
                  />
                  <input
                          type="hidden"
                          name="queryTrackArtist"
                          th:value="${profile['name']}"
                  />
                  <a
                          href="#"
                          onclick="this.parentNode.submit(); return false;"
                  >
                    <img
                            class="image"
                            th:src="${profile.imageUrls != null && !profile.imageUrls.isEmpty() ? profile.imageUrls[0] : 'https://i.stack.imgur.com/34AD2.jpg'}"
                            alt="Artist Image"
                    />
                  </a>
                </form>
              </div>

              <div class="media-icons">
                <i class="fab fa-facebook"></i>
                <i class="fab fa-twitter"></i>
                <i class="fab fa-github"></i>
              </div>

              <div class="name-profession">
                <form th:action="@{/searchArtistQuery}" method="get">
                  <input
                          type="hidden"
                          name="query"
                          th:value="${param.query}"
                  />
                  <input
                          type="hidden"
                          name="queryTrackArtist"
                          th:value="${profile['name']}"
                  />
                  <!--                                <span class="name" th:text="${profile['name']}"></span>-->
                  <!--                      <a-->
                  <!--                        href="#"-->
                  <!--                        onclick="this.parentNode.submit(); return false;"-->
                  <!--                        class="name"-->
                  <!--                        th:text="${profile['name']}"-->
                  <!--                      ></a>-->
                  <a
                          href="#"
                          onclick="showChosenArtist('${profile['name']}', '${profile.imageUrls != null && !profile.imageUrls.isEmpty() ? profile.imageUrls[0] : 'https://i.stack.imgur.com/34AD2.jpg'}'); return false;"
                          class="name"
                              th:text="${profile['name']}">
</a>
                </form>
                <a th:href="${profile['externalUrl']}">
                  <span class="profession">Spotify Profile</span>
                </a>
              </div>

              <div class="rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
                <i class="far fa-star"></i>
              </div>

              <div class="button">
                <button class="aboutMe">About Me</button>
                <button class="hireMe">Hire Me</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-pagination"></div>
    </section>
  </div>
</div>

<div class="artistProfileAndTracks">

  <div id="chosenArtistSection" class="singleArtistProfile">
    <section id="trackProfileResults">
      <div><h3 class="second-page-title">Artists top Tracks!</h3></div>
      <div class="track-cards-container">
        <!-- Your track profile content goes here -->
        <!-- For example, you can use th:each to iterate over your tracks -->
        <div class="track-card" th:each="trackProfile : ${track}">
          <div class="track-image">
            <a th:href="${trackProfile['externalUrl']}">
              <img
                      th:src="${trackProfile.imageUrls != null && !trackProfile.imageUrls.isEmpty() ? trackProfile.imageUrls[0] : 'https://i.stack.imgur.com/34AD2.jpg'}"
                      alt="Track Image"
              />
            </a>
          </div>
          <div class="track-info">
            <h3 th:text="${trackProfile['name']}"></h3>
            <p th:text="${trackProfile['Album']}"></p>
            <p th:text="${trackProfile['Release Date']}"></p>
            <p th:text="${trackProfile['Artists']}"></p>
            <!-- Add more track profile details as needed -->
          </div>
        </div>
      </div>
    </section>


  </div>
</div>


<!-- JavaScript code and footer -->

<div>
  <footer>
    <p>Â© 2023 Spotify X Genius. All rights reserved.</p>
  </footer>
</div>

<script>
  var urlParams = new URLSearchParams(window.location.search);
  var queryParam = urlParams.get("query");
  var queryParamTrack = urlParams.get("queryTrackArtist");

  if (queryParamTrack == null) {
    // Scroll to the profile results section
    window.location.href = "#profileResults";
  } else if (queryParamTrack) {
    // Scroll to the profile results section
    window.location.href = "#trackProfileResults";
  }
</script>

<!--&lt;!&ndash; Swiper JS &ndash;&gt;-->
<!--<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>-->

<!--&lt;!&ndash; Initialize Swiper &ndash;&gt;-->
<!--<script>-->

<!--  const myCustomSlider = document.querySelectorAll('.swiper-container');-->

<!--  for( i=0; i< myCustomSlider.length; i++ ) {-->

<!--    myCustomSlider[i].classList.add('swiper-container-' + i);-->

<!--    var slider = new Swiper('.swiper-container-' + i, {-->
<!--      /* Options */-->
<!--    });-->

<!--  }-->

<!--  // Initialize the swiper for the artistCard section-->
<!--  var swiper = new Swiper(".mySwiper", {-->
<!--    slidesPerView: 3,-->
<!--    spaceBetween: 30,-->
<!--    slidesPerGroup: 3,-->
<!--    loop: true,-->
<!--    loopFillGroupWithBlank: true,-->
<!--    pagination: {-->
<!--      el: ".swiper-pagination",-->
<!--      clickable: true,-->
<!--    },-->
<!--    navigation: {-->
<!--      nextEl: ".swiper-button-next",-->
<!--      prevEl: ".swiper-button-prev",-->
<!--    },-->
<!--  });-->

<!--  // Initialize the swiper for the trackProfileResults section-->
<!--  var swiper1 = new Swiper(".trackSwiper", { // Use unique class name 'trackSwiperContainer'-->
<!--    slidesPerView: 2, // Show only one track profile at a time-->
<!--    spaceBetween: 30,-->
<!--    loop: true,-->
<!--    pagination: {-->
<!--      el: ".track-pagination", // Use unique class name 'track-pagination'-->
<!--      clickable: true,-->
<!--    },-->
<!--    navigation: {-->
<!--      nextEl: ".track-next" , // Use unique class name 'track-next'-->
<!--      prevEl: ".track-prev" , // Use unique class name 'track-prev'-->
<!--    },-->
<!--  });-->
<!--</script>-->


<!-- ... Other JavaScript code ... -->

<!-- Swiper JS -->
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

<script>
  // Get all swiper container elements
  const swiperContainers = document.querySelectorAll(".swiper-container");

  // Initialize each Swiper instance with its unique class name
  swiperContainers.forEach((container, index) => {
    container.classList.add(`swiper-container-${index}`);
    new Swiper(`.swiper-container-${index}`, {
      // ... Add the appropriate options for each carousel ...
      // For example, use different slidesPerView, spaceBetween, etc.
    });
  });

  // Initialize the swiper for the artistCard section
  var artistSwiper = new Swiper(".swiper-container-artistCard", {
    slidesPerView: 3,
    spaceBetween: 30,
    slidesPerGroup: 3,
    loop: true,
    loopFillGroupWithBlank: true,
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
    },
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
  });

</script>






</body>
</html>
